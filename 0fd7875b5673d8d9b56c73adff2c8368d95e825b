{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "b3951b64_d1d1a8f8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1001552
      },
      "writtenOn": "2021-12-01T18:01:33Z",
      "side": 1,
      "message": "recheck (Helm push issue again)",
      "revId": "0fd7875b5673d8d9b56c73adff2c8368d95e825b",
      "serverId": "84e4e190-e623-4c37-9eda-58b1937c1b53"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f1a2b096_3a511b82",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1001552
      },
      "writtenOn": "2021-12-01T18:02:03Z",
      "side": 1,
      "message": "recheck",
      "revId": "0fd7875b5673d8d9b56c73adff2c8368d95e825b",
      "serverId": "84e4e190-e623-4c37-9eda-58b1937c1b53"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1f796fec_39d70acd",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1001552
      },
      "writtenOn": "2021-12-01T18:17:54Z",
      "side": 1,
      "message": "recheck",
      "revId": "0fd7875b5673d8d9b56c73adff2c8368d95e825b",
      "serverId": "84e4e190-e623-4c37-9eda-58b1937c1b53"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "761c2f47_8565bd75",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000103
      },
      "writtenOn": "2021-12-13T10:28:22Z",
      "side": 1,
      "message": "I guess we need to come back to this ... but for one simulator this is OK for now. \n",
      "revId": "0fd7875b5673d8d9b56c73adff2c8368d95e825b",
      "serverId": "84e4e190-e623-4c37-9eda-58b1937c1b53"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b5069752_39375239",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1001552
      },
      "writtenOn": "2021-12-14T07:54:06Z",
      "side": 1,
      "message": "New pr will be opened,",
      "parentUuid": "761c2f47_8565bd75",
      "revId": "0fd7875b5673d8d9b56c73adff2c8368d95e825b",
      "serverId": "84e4e190-e623-4c37-9eda-58b1937c1b53"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "df394651_a25997e2",
        "filename": "smo-install/helm-override/onap-override.yaml",
        "patchSetId": 1
      },
      "lineNbr": 310,
      "author": {
        "id": 1000103
      },
      "writtenOn": "2021-12-08T12:16:36Z",
      "side": 1,
      "message": "Please set the Clamp functions enabled. \nWe use them for rApps in a some of our NONRTRIC tests. \nThanks",
      "revId": "0fd7875b5673d8d9b56c73adff2c8368d95e825b",
      "serverId": "84e4e190-e623-4c37-9eda-58b1937c1b53"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0b1f1f7e_6f923ea8",
        "filename": "smo-install/helm-override/onap-override.yaml",
        "patchSetId": 1
      },
      "lineNbr": 310,
      "author": {
        "id": 1001552
      },
      "writtenOn": "2021-12-08T12:52:18Z",
      "side": 1,
      "message": "Hi John, sure no prob (do no forget we can have multiple override files for different use cases/labs), \nQuestion: which clamp do you use the legacy one or the new one developed?",
      "parentUuid": "df394651_a25997e2",
      "revId": "0fd7875b5673d8d9b56c73adff2c8368d95e825b",
      "serverId": "84e4e190-e623-4c37-9eda-58b1937c1b53"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "81f93dd2_78dcbb60",
        "filename": "smo-install/helm-override/onap-override.yaml",
        "patchSetId": 1
      },
      "lineNbr": 310,
      "author": {
        "id": 1000103
      },
      "writtenOn": "2021-12-08T13:50:15Z",
      "side": 1,
      "message": "The newest versions please. (At least Istanbul, or latest is even better). \nI think it would be best to have policy-clamp-cl-runtime enabled by default at least. \nBut i guess the participants (policy, k8s, http) etc are pretty lightweight, so probably best to have those included by default too.",
      "parentUuid": "0b1f1f7e_6f923ea8",
      "revId": "0fd7875b5673d8d9b56c73adff2c8368d95e825b",
      "serverId": "84e4e190-e623-4c37-9eda-58b1937c1b53"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a121c21b_515e5af8",
        "filename": "smo-install/helm-override/onap-override.yaml",
        "patchSetId": 1
      },
      "lineNbr": 310,
      "author": {
        "id": 1001552
      },
      "writtenOn": "2021-12-14T07:54:06Z",
      "side": 1,
      "message": "I\u0027ll raise another Pr with that",
      "parentUuid": "81f93dd2_78dcbb60",
      "revId": "0fd7875b5673d8d9b56c73adff2c8368d95e825b",
      "serverId": "84e4e190-e623-4c37-9eda-58b1937c1b53"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e0cb8171_f30569fc",
        "filename": "smo-install/oran_oom/a1simulator/templates/deployment.yaml",
        "patchSetId": 1
      },
      "lineNbr": 4,
      "author": {
        "id": 1000261
      },
      "writtenOn": "2021-12-03T09:41:11Z",
      "side": 1,
      "message": "This simulator is stateful so should be declared as a stateful set - otherwise max one instance of the simulator is possible i.e the replicas parameter can only be \u00271\u0027. Otherwise a new svc and a new pod (both with unique names) must be created for each new simulator instance.\nIf the intention is to never have more than one instance, then this is fine.",
      "range": {
        "startLine": 4,
        "startChar": 0,
        "endLine": 4,
        "endChar": 16
      },
      "revId": "0fd7875b5673d8d9b56c73adff2c8368d95e825b",
      "serverId": "84e4e190-e623-4c37-9eda-58b1937c1b53"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d066194f_eebb9d5a",
        "filename": "smo-install/oran_oom/a1simulator/templates/deployment.yaml",
        "patchSetId": 1
      },
      "lineNbr": 4,
      "author": {
        "id": 1001552
      },
      "writtenOn": "2021-12-06T09:06:44Z",
      "side": 1,
      "message": "Hi Bjorn,\nThe emulators here did not have any volume defined or service properly defined so it seemed to me that this emulator was not stateful at all ? üòê\n\nPlease note that the replica can be set to 2,3,4 if needed, that works.\nBut here there is no need to change the replica config because the different emulator instances can be defined in the values.yaml with their own configuration, so it can be overridden by the user in the override files. Therefore it can now be customized, even re-deployed at runtime (only impacted emulators will be redeployed) üòä\nDoes it make sense to you ?\n\nThanks",
      "parentUuid": "e0cb8171_f30569fc",
      "range": {
        "startLine": 4,
        "startChar": 0,
        "endLine": 4,
        "endChar": 16
      },
      "revId": "0fd7875b5673d8d9b56c73adff2c8368d95e825b",
      "serverId": "84e4e190-e623-4c37-9eda-58b1937c1b53"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e2b81222_23556f55",
        "filename": "smo-install/oran_oom/a1simulator/templates/deployment.yaml",
        "patchSetId": 1
      },
      "lineNbr": 4,
      "author": {
        "id": 1000261
      },
      "writtenOn": "2021-12-08T12:54:17Z",
      "side": 1,
      "message": "Well, if there are more than one instance of the pod and you address the simulator through the service object, then the call to the service will be directed to one of the simulators - basically a kind of loadbalancing. However, this it not correct since each simulator represents an a1-termination (think eNodeB or Near-Realtime Ric) so the addressing need to be made to a specific pod - not to any of the pods. This is the reason why we declared the simulator as a stateful sets -  as a stateful set, each pod will get their own dns name but as a replicaset then no dns entry is added for the pod so the only way, afaik, to address a pod in a replicaset is to use the IP-address of the pod (this should be avoided since the ip may change if the pod is removed and then added again)\n\nI think you can still declare the object as a stateful set but with only one instance.\n\nThe config (link) for the configmap in thi commit still seem to require a stateful set since the host consists of three parts:\npod: a1-sim-osc-0 \nsts: a1-sim\nsvc: nonrtric\n\nlink: http://a1-sim-osc-0.a1-sim.nonrtric:8085. This will likely not work.\n\nLink to the service in a replicaset should be:\nlink: http://a1-sim-osc.nonrtric:8085 this will loadbalance to one of the simulators if there is more than one - basically individual pods are invisible.\n\nIt is correct, there is no mounted volumes so the data in the simulator data does not survive a restart - this is intended.",
      "parentUuid": "d066194f_eebb9d5a",
      "range": {
        "startLine": 4,
        "startChar": 0,
        "endLine": 4,
        "endChar": 16
      },
      "revId": "0fd7875b5673d8d9b56c73adff2c8368d95e825b",
      "serverId": "84e4e190-e623-4c37-9eda-58b1937c1b53"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c48b4fb1_0711f06a",
        "filename": "smo-install/oran_oom/a1simulator/templates/deployment.yaml",
        "patchSetId": 1
      },
      "lineNbr": 4,
      "author": {
        "id": 1001552
      },
      "writtenOn": "2021-12-14T07:54:06Z",
      "side": 1,
      "message": "Hi Bjorn,\nI know it has been merged already, anyway as it is defined here the replica is always set to 1 and this can\u0027t be changed\nHowever the number of emulators must be defined and configured in the values.yaml and therefore can be customized in the override files.\n\nLike this:\na1Sims:\n  - name: a1-sim-osc\n    a1Version: OSC_2.1.0\n    allowHttp: true\n\n  - name: a1-sim-std-1\n    a1Version: STD_1.1.3\n    allowHttp: true\n\n  - name: a1-sim-std-2\n    a1Version: STD_2.0.0\n    allowHttp: true\n\nSo for instance we could have multiple a1-sim-osc, std-1 or std-2 if needed.\n\nThe service has been defined so that this works:\nhttp://a1-sim-osc.nonrtric:8085\nBut indeed it\u0027s linked to the name we give in the a1Sims definition so it could become http://a1-sim-osc-2.nonrtric:8085\n\nI\u0027m also wondering, do we really need multiple emulators to run here ?\n\nLet me know if you want me to change that.\n\nThanks",
      "parentUuid": "e2b81222_23556f55",
      "range": {
        "startLine": 4,
        "startChar": 0,
        "endLine": 4,
        "endChar": 16
      },
      "revId": "0fd7875b5673d8d9b56c73adff2c8368d95e825b",
      "serverId": "84e4e190-e623-4c37-9eda-58b1937c1b53"
    }
  ]
}