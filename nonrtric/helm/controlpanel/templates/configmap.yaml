################################################################################
#   Copyright (c) 2020 Nordix Foundation.                                      #
#                                                                              #
#   Licensed under the Apache License, Version 2.0 (the "License");            #
#   you may not use this file except in compliance with the License.           #
#   You may obtain a copy of the License at                                    #
#                                                                              #
#       http://www.apache.org/licenses/LICENSE-2.0                             #
#                                                                              #
#   Unless required by applicable law or agreed to in writing, software        #
#   distributed under the License is distributed on an "AS IS" BASIS,          #
#   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.   #
#   See the License for the specific language governing permissions and        #
#   limitations under the License.                                             #
################################################################################

apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "common.configmapname.controlpanel" . }}
  namespace: {{ include "common.namespace.nonrtric" . }}
data:
  application.properties: |
    server.port = {{ include "common.serviceport.controlpanel.container" . }}
    policycontroller.url.prefix = {{ .Values.controlpanel.policycontroller.url.prefix }}
    userfile = {{ .Values.controlpanel.userfile }}
    portalapi.decryptor = org.oransc.portal.nonrtric.controlpanel.portalapi.PortalSdkDecryptorAes
    portalapi.usercookie = UserId
    portalapi.security = {{ .Values.controlpanel.portalapi.security }}
    portalapi.appname = {{ .Values.controlpanel.portalapi.appname }}
    portalapi.username = {{ .Values.controlpanel.portalapi.username }}
    portalapi.password = {{ .Values.controlpanel.portalapi.password }}

  key.properties: |
    cipher.enc.key = {{ .Values.controlpanel.cipher.enc.key }}

  portal.properties: |
    portal.api.impl.class = org.oransc.ric.portal.controlpanel.portalapi.PortalRestCentralServiceImpl
    role_access_centralized = remote
    ecomp_redirect_url = {{ .Values.controlpanel.portalapi.ecomp_redirect_url }}
    ecomp_rest_url = {{ .Values.controlpanel.portalapi.ecomp_rest_url }}
    ueb_app_key = {{ .Values.controlpanel.portalapi.ueb_app_key }}

  users.json: |
    [{"orgId":null,"managerId":null,"firstName":"First","middleInitial":null,"lastName":"Last","phone":null,"email":null,"hrid":null,"orgUserId":null,"orgCode":null,"orgManagerUserId":null,"jobTitle":null,"loginId":"demo","active":true,"roles":[{"id":1,"name":"System_Administrator","roleFunctions":null}]}]